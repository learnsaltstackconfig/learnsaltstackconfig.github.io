<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Minions - Learn Salt Stack Config</title><meta name=description content="Part of VMware vRealize Automation"><meta name=generator content="Hugo 0.83.1"><link href=https://learnsaltstackconfig.github.io/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://learnsaltstackconfig.github.io/Minions/><link rel=stylesheet href=https://learnsaltstackconfig.github.io/css/theme.css><link rel=stylesheet href=/css/lightbox.min.css><link rel=stylesheet href=/css/custom.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://learnsaltstackconfig.github.io/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://learnsaltstackconfig.github.io/js/bundle.js></script><script src=/js/lightbox.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NN4VBNXV6M"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-NN4VBNXV6M')</script><style>:root{--custom-font-color:#0065ab;--custom-background-color:#FFFFFF}</style><meta property="og:title" content="Minions"><meta property="og:description" content="Part of VMware vRealize Automation"><meta property="og:type" content="website"><meta property="og:url" content="https://learnsaltstackconfig.github.io/Minions/"><meta property="og:image" content="https://learnsaltstackconfig.github.io/images/og-image.png"><meta property="og:site_name" content="Learn Salt Stack Config"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://learnsaltstackconfig.github.io/images/og-image.png"><meta name=twitter:title content="Minions"><meta name=twitter:description content="Part of VMware vRealize Automation"><meta itemprop=name content="Minions"><meta itemprop=description content="Part of VMware vRealize Automation"></head><body><div class=container><header><div class=header-image><img src=/images/saltstack-config.png alt="Learn Salt Stack Config"></div><div class=header><div class=header-h1><h1 class=header-h1>Learn Salt Stack Config</h1></div><div class=header-description><p class=description>Part of VMware vRealize Automation</p></div></div></header><div class=content-container><main><h1>Minions</h1><p>Welcome to the Minions Page</p><div class=clr-content-image-wrap><a href=/Minions/mainminions.png data-lightbox=page-images data-title=MinionsView><img src=/Minions/mainminions.png alt=MinionsView></a><figcaption class=clr-caption>MinionsView</figcaption></div><h1 style=color:#000;font-size:20px>Overview</h1><p>This page is where you will manage your minions and put them into Target groups.The Minions workspace is used to:</p><ul><li>View minion details</li><li>Run ad-hoc jobs or commands</li><li>Create and save new targets</li><li>Adjust target settings, such as attached pillars</li><li>Search for a minion or sort minions based on their minion ID or other system properties (referred to as grains)</li><li>Managing minions and targets</li></ul><p>The Minions workspace includes a list of all Salt minions that are running the minion service and that are currently managed by SaltStack Config. Minions are nodes running the minion service, which can listen to commands from a Salt controller and perform the requested tasks. Salt Masters can themselves run the minion service, which makes it possible to configure and manage the node running the Salt controller service as needed. A good example of treating the Salt Master like a minion could be something like pushing config files down to the master.d directory.</p><p>The side panel of the workspace includes a list of targets. A target is the group of minions, across one or many Salt controllers, that a jobâ€™s Salt command applies to. A Salt controller can also be managed like a minion and can be a target if it is running the minion service. Defining a target for a job or operation also prevents the operation from running on nodes that should not run that operation. Targets can contain minions that are connected to any Salt controller in your environment. You can attach pillar data to different targets. Pillars are structures of data defined on the Salt controller and passed through to one or more minions, using targets. They allow confidential, targeted data to be securely sent only to the relevant minion.</p><p>By default, when you open the workspace, the All Minions target is active. The All Minions target lists all the minions you have permission to access.</p><h1 style=color:#000;font-size:20px>Grains</h1><p>When you click on a minion you will see a tab called <i>grains</i>. Salt comes with a system to gather and present data about the minion, this is called grains. Grains are essentially metadata about the minion, like OS Type, FQDN, and much more. Admins can use these grains gather information about a minion and include that data in state files, or use it to Target minions.</p><div class=clr-content-image-wrap><a href=/Minions/grainmainpage.png data-lightbox=page-images data-title="View a list of all Grains assigned to the Minion"><img src=/Minions/grainmainpage.png alt="View a list of all Grains assigned to the Minion"></a><figcaption class=clr-caption>View a list of all Grains assigned to the Minion</figcaption></div><p>Admins can also create custom grains via SaltStack Config UI or via the CLI. From within SaltStack Config you can click on a minion and click &ldquo;Run Command&rdquo; then choose the function <code>grains.set</code> and then add your key:value arguments.</p><div class=clr-content-image-wrap><a href=/Minions/grainsset.png data-lightbox=page-images data-title="Function grains.set"><img src=/Minions/grainsset.png alt="Function grains.set"></a><figcaption class=clr-caption>Function grains.set</figcaption></div><p>Once you do this the grain will show up in the list, then this grain can be used for targeting and filtering via jinja etc.</p><div class=clr-content-image-wrap><a href=/Minions/grainlistcustom.png data-lightbox=page-images data-title="Custom Grain Showing up in the Grains List"><img src=/Minions/grainlistcustom.png alt="Custom Grain Showing up in the Grains List"></a><figcaption class=clr-caption>Custom Grain Showing up in the Grains List</figcaption></div><h1 style=color:#000;font-size:20px>Using Grains with States</h1><p>Grains are available to states via the grains dictionary and can be called in the state file.</p><p><code>{{ grains[&lsquo;os.family&rsquo;] }}</code></p><p>The <code>grains.get</code> function can be used to go deeper into the grains.</p><p><code>{{ salt['grains.get']('os', 'Debian') }}</code></p><p><i>Note: The salt command before the grain.get just tells the system to use the grains state module. This is explained in more detail in the File Server States sections.</i></p><h1 style=color:#000;font-size:20px>Activity Section</h1><p>The other tab you will see available when clicking on a minion is the Activity Tab. This tab provides visibility into jobs that are running or have run against the minion. Admins can also see all activity across all minion in the Config&ndash;>Activity section, but there may be cases where just looking at the activity of a single minion can be helpful.</p><div class=clr-content-image-wrap><a href=/Minions/minionactivitytab.png data-lightbox=page-images data-title="Activity Tab"><img src=/Minions/minionactivitytab.png alt="Activity Tab"></a><figcaption class=clr-caption>Activity Tab</figcaption></div><div class=edit-meta>Last updated on 17 Aug 2021<br><a href=https://github.com/cmbu-tmm-sites/learnsaltstackconfig/edit/main/content/Minions/_index.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://learnsaltstackconfig.github.io/Reports/ title=Reports><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Reports</a>
<a class="nav nav-next" href=https://learnsaltstackconfig.github.io/Minion_Keys/ title="Minion Keys">Next - Minion Keys <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme adapted from <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://learnsaltstackconfig.github.io>Home</a></li><li><a href=https://learnsaltstackconfig.github.io/Dashboard/>Dashboard</a></li><li><a href=https://learnsaltstackconfig.github.io/Reports/>Reports</a></li><li class="parent active"><a href=https://learnsaltstackconfig.github.io/Minions/>Minions</a></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/Minion_Keys/>Minion Keys<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/Minion_Keys/Accepted/>Accepted</a></li><li><a href=https://learnsaltstackconfig.github.io/Minion_Keys/Pending/>Pending</a></li><li><a href=https://learnsaltstackconfig.github.io/Minion_Keys/Rejected/>Rejected</a></li><li><a href=https://learnsaltstackconfig.github.io/Minion_Keys/Denied/>Denied</a></li></ul></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/Activity/>Activity<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/Activity/Completed/>Completed</a></li><li><a href=https://learnsaltstackconfig.github.io/Activity/In-Progress/>In Progress</a></li><li><a href=https://learnsaltstackconfig.github.io/Activity/In_Progress/>In Progress</a></li><li><a href=https://learnsaltstackconfig.github.io/Activity/Upcoming/>Upcoming</a></li></ul></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/Config/>Config<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/Config/Jobs/>Jobs</a></li><li><a href=https://learnsaltstackconfig.github.io/Config/Schedules/>Schedules</a></li><li><a href=https://learnsaltstackconfig.github.io/Config/Pillars/>Pillars</a></li><li><a href=https://learnsaltstackconfig.github.io/Config/File-Server/>File Server</a></li><li><a href=https://learnsaltstackconfig.github.io/Config/File_Server/>File Server</a></li></ul></li><li><a href=https://learnsaltstackconfig.github.io/Compliance/>Compliance</a></li><li><a href=https://learnsaltstackconfig.github.io/Vulnerability/>Vulnerability</a></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/Settings/>Settings<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/Settings/User-Preferences/>User Preferences</a></li><li><a href=https://learnsaltstackconfig.github.io/Settings/Connectors/>Connectors</a></li></ul></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/Administration/>Administration<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/Administration/Local-Users/>Local Users</a></li><li><a href=https://learnsaltstackconfig.github.io/Administration/Authentication/>Authentication</a></li><li><a href=https://learnsaltstackconfig.github.io/Administration/Roles/>Roles</a></li><li><a href=https://learnsaltstackconfig.github.io/Administration/SecOps/>SecOps</a></li><li><a href=https://learnsaltstackconfig.github.io/Administration/Master-Keys/>Master Keys</a></li></ul></li><li class=has-sub-menu><a href=https://learnsaltstackconfig.github.io/References/>References<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learnsaltstackconfig.github.io/References/State_Files/>State Files</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>